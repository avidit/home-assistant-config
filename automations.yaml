- id: '1605886570099'
  alias: Living room lights
  description: ''
  trigger:
  - platform: sun
    event: sunset
    offset: '2:00'
    id: sunset
  - platform: time
    at: '23:00:00'
    id: time
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id: sunset
      sequence:
      - type: turn_on
        device_id: 0885ed2690b46239fb5097c82e1f1073
        entity_id: light.living_room
        domain: light
    - conditions:
      - condition: trigger
        id: time
      sequence:
      - type: turn_off
        device_id: 0885ed2690b46239fb5097c82e1f1073
        entity_id: light.living_room
        domain: light
    default: []
  mode: single
- id: '1605887484325'
  alias: Bedroom light
  description: ''
  trigger:
  - platform: time
    at: input_datetime.bedroom_light_on
    id: 'on'
  - platform: time
    at: input_datetime.bedroom_light_off
    id: 'off'
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id: 'on'
      sequence:
      - type: turn_on
        device_id: 138506d6ceac3071a7ea57ba1d9b20c2
        entity_id: light.bedroom
        domain: light
    - conditions:
      - condition: trigger
        id: 'off'
      sequence:
      - type: turn_off
        device_id: 138506d6ceac3071a7ea57ba1d9b20c2
        entity_id: light.bedroom
        domain: light
    default: []
  mode: single
- id: '1607978571172'
  alias: High water usage alert
  description: ''
  trigger:
  - platform: numeric_state
    entity_id: sensor.hourly_water_consumption
    above: '20'
  condition: []
  action:
  - service: notify.mobile_app_abi_iphone_12
    data:
      message: High water usage
  mode: single
- id: '1631369919205'
  alias: Check all doors
  description: ''
  trigger:
  - platform: time
    at: '21:00:00'
  condition: []
  action:
  - service: notify.mobile_app_abi_iphone_12
    data:
      message: '{% set doors = expand(''group.doors'') | selectattr(''state'', ''in'',
        [''on'', ''open'']) | map(attribute=''name'') |  map(''replace'', '' Door'',
        '''')  | list %} {% set count = doors | count %} {% if count == 0 %} All doors
        are closed. {% else %} The {{ doors | join('', and '')}} door{{ ''s are ''
        if count > 1 else '' is '' }}open. {% endif %}'
      data:
        actions:
        - action: close_garage_door
          title: Close Garage Door
  mode: single
- id: '1631372133150'
  alias: Close garage door from iOS notification
  description: ''
  trigger:
  - platform: event
    event_type: mobile_app_notification_action
    event_data:
      action: close_garage_door
  action:
  - service: cover.close_cover
    target:
      entity_id: cover.garage_door
    data: {}
  mode: single
- id: '1641389647705'
  alias: Thermostat
  description: ''
  trigger:
  - platform: time
    at: 07:00:00
    id: day
  - platform: time
    at: '23:00:00'
    id: night
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id: day
      sequence:
      - service: climate.set_temperature
        data:
          temperature: 68
          hvac_mode: heat
        target:
          entity_id: climate.living_room_thermostat
    - conditions:
      - condition: trigger
        id: night
      sequence:
      - service: climate.set_temperature
        data:
          temperature: 60
          hvac_mode: heat
        target:
          entity_id: climate.living_room_thermostat
    default: []
  mode: single
- id: '1642526504100'
  alias: TV bias light
  description: ''
  trigger:
  - platform: device
    device_id: d57169b4050311eb87605dd332f99035
    domain: media_player
    entity_id: media_player.sony_bravia_tv
    type: playing
    id: playing
  - platform: device
    device_id: d57169b4050311eb87605dd332f99035
    domain: media_player
    entity_id: media_player.sony_bravia_tv
    type: turned_off
    id: 'off'
  action:
  - choose:
    - conditions:
      - condition: trigger
        id: playing
      - condition: time
        before: 06:00:00
        after: '20:00:00'
      sequence:
      - type: turn_on
        device_id: e6579d0ff24dc6983d622b7dc534659f
        entity_id: light.tv_light
        domain: light
    - conditions:
      - condition: trigger
        id: 'off'
      sequence:
      - type: turn_off
        device_id: e6579d0ff24dc6983d622b7dc534659f
        entity_id: light.tv_light
        domain: light
    default: []
  mode: single
- id: '1642785019365'
  alias: Alarm
  description: ''
  trigger:
  - platform: state
    entity_id: group.family
    to: home
    id: home
  - platform: state
    entity_id:
    - group.family
    to: not_home
    id: not_home
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id: not_home
      sequence:
      - device_id: 2707a9e748fb6372efc2520dd7a11576
        domain: alarm_control_panel
        entity_id: alarm_control_panel.alarmo
        type: arm_away
    - conditions:
      - condition: trigger
        id: home
      sequence:
      - device_id: 2707a9e748fb6372efc2520dd7a11576
        domain: alarm_control_panel
        entity_id: alarm_control_panel.alarmo
        type: disarm
    default: []
  mode: single
- id: '1646314071906'
  alias: Save lovelace config
  description: ''
  trigger:
  - platform: state
    entity_id: input_button.save_lovelace_config
  condition: []
  action:
  - service: shell_command.save_lovelace
    data: {}
  mode: single
- id: '1646318387526'
  alias: Generate readme
  description: ''
  trigger:
  - platform: state
    entity_id: input_button.generate_readme
  condition: []
  action:
  - service: readme.generate
    data: {}
  mode: single
- id: '1646662551616'
  alias: Weather summary
  description: ''
  trigger:
  - platform: time
    at: 09:00:00
  condition: []
  action:
  - service: tts.google_translate_say
    data:
      entity_id: media_player.office_speaker
      message: Today, it is going to be {{ states('weather.openweathermap_daily')
        }}. Currently, it is {{ state_attr('weather.openweathermap_hourly','temperature')
        | round }} 째F and it feels like {{ states('sensor.openweathermap_hourly_feels_like_temperature')
        | round }} 째F. Today's high will be {{ state_attr('weather.openweathermap_daily',
        'forecast')[0].temperature | round }} 째F and low will be {{ state_attr('weather.openweathermap_daily',
        'forecast')[0].templow | round }} 째F. Humidity will be {{ state_attr('weather.openweathermap_daily',
        'humidity') }}% with precipitation probability of {{ state_attr('weather.openweathermap_daily',
        'forecast')[0].precipitation_probability }}%
  mode: single
- id: '1650311187812'
  alias: Time to go home
  description: ''
  trigger:
  - platform: zone
    entity_id: person.abi
    zone: zone.gsm
    event: enter
  condition:
  - condition: time
    before: '17:00:00'
    after: '12:00:00'
  action:
  - service: notify.mobile_app_ras_iphone
    data:
      title: "\U0001F55F \U0001F3E0"
      message: '{{ states("sensor.zenquote") }}'
  mode: single
- id: '1657803532514'
  alias: Refresh backyard camera
  description: ''
  trigger:
  - platform: state
    entity_id:
    - input_button.backyard_camera_refresh
  condition: []
  action:
  - service: blink.trigger_camera
    data: {}
    target:
      device_id: 7d65e753c10ec0a0cfdc2de904a8990c
  - delay:
      hours: 0
      minutes: 0
      seconds: 5
      milliseconds: 0
  - service: blink.blink_update
    data: {}
  mode: single
- id: '1658145992175'
  alias: Living room switch
  description: ''
  trigger:
  - device_id: 1b5d209604c811ebbc13bb3e74b7e0b9
    domain: hue
    platform: device
    type: initial_press
    subtype: 1
    unique_id: 8f72c511-1672-4388-b3ac-ece53bbbb1f2
    id: first button
  - device_id: 1b5d209604c811ebbc13bb3e74b7e0b9
    domain: hue
    platform: device
    type: initial_press
    subtype: 2
    unique_id: f00505fe-7392-4bef-b0a8-ecaf886679f0
    id: second button
  - device_id: 1b5d209604c811ebbc13bb3e74b7e0b9
    domain: hue
    platform: device
    type: initial_press
    subtype: 3
    unique_id: 48bb8675-e79b-40a2-a0fe-69c41a8a55d4
    id: third button
  - device_id: 1b5d209604c811ebbc13bb3e74b7e0b9
    domain: hue
    platform: device
    type: initial_press
    subtype: 4
    unique_id: 42c24591-b608-4c55-a61b-5f8a5603b054
    id: fourth button
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id: first button
      sequence:
      - type: turn_on
        device_id: 0885ed2690b46239fb5097c82e1f1073
        entity_id: light.living_room
        domain: light
    - conditions:
      - condition: trigger
        id: second button
      sequence:
      - type: turn_on
        device_id: 3c2e0bee04c811eb9aaa13f3f6eb5be4
        entity_id: light.dining_room_light
        domain: light
    - conditions:
      - condition: trigger
        id: third button
      sequence:
      - type: turn_on
        device_id: adf896b104c811eb940463a495017b86
        entity_id: light.grow_light
        domain: light
    - conditions:
      - condition: trigger
        id: fourth button
      sequence:
      - type: turn_off
        device_id: 0885ed2690b46239fb5097c82e1f1073
        entity_id: light.living_room
        domain: light
      - type: turn_off
        device_id: 3c2e0bee04c811eb9aaa13f3f6eb5be4
        entity_id: light.dining_room_light
        domain: light
      - type: turn_off
        device_id: adf896b104c811eb940463a495017b86
        entity_id: light.grow_light
        domain: light
    default: []
  mode: single
